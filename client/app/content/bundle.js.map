{"version":3,"sources":["app.js","components/sign-up.js","notes/notes.js","services/auth-token.js","services/current-user.js","services/notes-service.js","services/users-service.js","users/users.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function() {\n  var app = angular.module('notely', [\n    'ui.router',\n    'notely.notes'\n  ]);\n\n  function config($urlRouterProvider) {\n    $urlRouterProvider.otherwise('/notes/');\n  }\n\n  config['$inject'] = ['$urlRouterProvider'];\n  app.config(config);\n\n  app.constant('API_BASE', 'http://localhost:3000/api/v1/');\n})();\n","angular.module('notely')\r\n.directive('signUp', ['UsersService', (UsersService) => {\r\n\r\n  class SignUpController {\r\n    constructor(){\r\n      this.user = {};\r\n\r\n    }\r\n    submit(){\r\n\r\n      UsersService.create(this.user);\r\n    }\r\n  }\r\n\r\n  return {\r\n    scope: {},\r\n    controller: SignUpController,\r\n    controllerAs: 'ctrl',\r\n    bindToController: true,\r\n    templateUrl: '/components/sign-up.html'\r\n  };\r\n}]);\r\n","(function() {\n\n  angular.module('notely.notes', [\n    'ui.router',\n    'textAngular'\n  ])\n  .config(notesConfig);\n\n  notesConfig['$inject'] = ['$stateProvider'];\n  function notesConfig($stateProvider) {\n    $stateProvider\n\n      .state('notes', {\n        url: '/notes',\n        resolve: {\n          notesLoaded: ['NotesService', function(NotesService) {\n            return NotesService.fetch();\n          }]\n        },\n        templateUrl: '/notes/notes.html',\n        controller: NotesController\n      })\n\n      .state('notes.form', {\n        url: '/:noteId',\n        templateUrl: '/notes/notes-form.html',\n        controller: NotesFormController\n      });\n  }\n\n  NotesController.$inject = ['$state', '$scope', 'NotesService'];\n  function NotesController($state, $scope, NotesService) {\n    $scope.note = {};\n    $scope.notes = NotesService.get();\n  }\n\n  NotesFormController.$inject = ['$scope', '$state', 'NotesService'];\n  function NotesFormController($scope, $state, NotesService) {\n    $scope.note = NotesService.findById($state.params.noteId);\n\n    $scope.save = function() {\n      // Decide whether to call create or update...\n      if ($scope.note._id) {\n        NotesService.update($scope.note).then(function(response) {\n          $scope.note = angular.copy(response.data.note);\n        });\n      }\n      else {\n        NotesService.create($scope.note).then(function(response) {\n          $state.go('notes.form', { noteId: response.data.note._id });\n        });\n      }\n    };\n//delete\n    $scope.delete = function() {\n      NotesService.delete($scope.note).then(function() {\n        $state.go('notes.form', { noteId: undefined });\n      });\n    };\n  }\n})();\n\n\n\n\n\n\n\n\n\n\n\n//\n","angular.module('notely')\r\n  .service('AuthToken', ['$window', ($window) => {\r\n\r\n    class AuthToken {\r\n      constructor() {\r\n        this.authToken = $window.localStorage.getItem('authToken');\r\n      }\r\n      set(token) {\r\n        this.authToken = token;\r\n        $window.localStorage.setItem('authToken', this.authToken);\r\n      }\r\n      get() {\r\n        return this.authToken;\r\n      }\r\n      clear() {\r\n        this.authToken = undefined;\r\n        $window.localStorage.removeItem('authToken');\r\n      }\r\n    }\r\n    return new AuthToken();\r\n  }]);\r\n","angular.module('notely')\r\n  .service('CurrentUser', ['$window', ($window) => {\r\n\r\n    class CurrentUser {\r\n      constructor() {\r\n        this.currentUser = JSON.parse($window.localStorage.getItem('currentUser'));\r\n      }\r\n      set(userData) {\r\n        this.currentUser = userData;\r\n        $window.localStorage.setItem('currentUser', JSON.stringify(this.currentUser));\r\n      }\r\n      get() {\r\n        return this.currentUser || {};\r\n      }\r\n      clear() {\r\n        this.currentUser = undefined;\r\n        $window.localStorage.removeItem('currentUser');\r\n      }\r\n    }\r\n    return new CurrentUser();\r\n  }]);\r\n","angular.module('notely')\n  .service('NotesService', NotesService);\n\n// NotesService\n// Handle CRUD operations against the server.\nNotesService.$inject = ['$http', 'API_BASE'];\nfunction NotesService($http, API_BASE) {\n  var self = this;\n  self.notes = [];\n\n  // Get all notes from server\n  self.fetch = function() {\n    return $http.get(API_BASE + 'notes')\n    .then(\n      // Success callback\n      function(response) {\n        self.notes = response.data;\n      },\n      // Failure callback\n      function(response) {\n        // TODO: Handle failure\n      }\n    );\n  };\n\n  self.get = function() {\n    return self.notes;\n  };\n\n  self.findById = function(noteId) {\n    // Look through `self.notes` for a note with a matching _id.\n    for (var i = 0; i < self.notes.length; i++) {\n      if (self.notes[i]._id === noteId) {\n        return angular.copy(self.notes[i]);\n      }\n    }\n    return {};\n  };\n\n  self.create = function(note) {\n    var noteCreatePromise = $http.post(API_BASE + 'notes', {\n      note: note\n    });\n    noteCreatePromise.then(function(response) {\n      self.notes.unshift(response.data.note);\n    });\n    return noteCreatePromise;\n  };\n\n  self.update = function(note) {\n    var noteUpdatePromise = $http.put(API_BASE + 'notes/' + note._id, {\n      note: {\n        title: note.title,\n        body_html: note.body_html\n      }\n    });\n    noteUpdatePromise.then(function(response) {\n      self.replaceNote(response.data.note);\n    });\n    return noteUpdatePromise;\n  };\n\n  self.replaceNote = function(note) {\n    for (var i = 0; i < self.notes.length; i++) {\n      if (self.notes[i]._id === note._id) {\n        self.notes[i] = note;\n      }\n    }\n  };\n\n  self.delete = function(note) {\n    var noteDeletePromise = $http.delete(API_BASE + 'notes/' + note._id);\n    noteDeletePromise.then(function(response) {\n      self.remove(response.data.note);\n    });\n    return noteDeletePromise;\n  };\n\n  self.remove = function(note) {\n    for (var i = 0; i < self.notes.length; i++) {\n      if (self.notes[i]._id === note._id) {\n        self.notes.splice(i, 1);\n        break;\n      }\n    }\n  };\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n//\n","angular.module('notely')\r\n  .service('UsersService', ['$http','API_BASE','AuthToken','CurrentUser', ($http, API_BASE, AuthToken,CurrentUser) => {\r\n\r\n    class UsersService{\r\n      create(user) {\r\n        let userCreatePromise = $http.post(`${API_BASE}users`, {\r\n          user: user\r\n        });\r\n        userCreatePromise.then((response) => {\r\n          AuthToken.set(response.data.auth_token);\r\n          CurrentUser.set(response.data.user);\r\n        });\r\n        return userCreatePromise;\r\n      };\r\n\r\n    }\r\n    return new UsersService();\r\n  }]);\r\n\r\n\r\n  //\r\n","(function() {\r\n  angular.module('notely')\r\n  .config(usersConfig);\r\n\r\n\r\n  usersConfig.$inject = ['$stateProvider'];\r\n\r\nfunction usersConfig($stateProvider){\r\n    $stateProvider\r\n    .state('sign-up',{\r\n      url: '/sign-up',\r\n      template: '<sign-up></sign-up>',\r\n    });\r\n  };\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}